!function(t){function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var e={};n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=18)}({18:function(t,n,e){"use strict";function r(){"grouped"===this.value?a():i()}function a(){o("grouped"),k.transition().duration(500).delay(function(t,n){return 10*n}).attr("x",function(t,n,e){return B(t.x)+B.rangeBand()/d*e}).attr("width",B.rangeBand()/d).transition().attr("y",function(t){return v(t.y)}).attr("height",function(t){return m-v(t.y)}),G.transition().duration(500).delay(500).style("opacity",1)}function i(){o("stacked"),k.transition().duration(500).delay(function(t,n){return 10*n}).attr("y",function(t){return v(t.y0+t.y)}).attr("height",function(t){return v(t.y0)-v(t.y0+t.y)}).transition().attr("x",function(t){return B(t.x)}).attr("width",B.rangeBand()),G.transition().duration(500).style("opacity",1e-6)}function o(t){v.domain("grouped"===t?[0,p]:[0,g]),F.select(".y.axis").transition().duration(500).call(C)}function l(){var t=d3.select('input[value="grouped"]').node().checked;B.domain(this.checked?["G","B","D","C","A","E","F","H"]:["A","B","C","D","E","F","G","H"]);var n=F.transition().duration(750),e=function(t,n){return 50*n};n.selectAll("rect").delay(e).attr("x",function(n,e){return t?B(n.x)+B.rangeBand()/d*parseInt(e/s):B(n.x)}),n.selectAll(".team").delay(e).attr("y",function(t,n){return B(t.x)+y+B.rangeBand()/d*parseInt(n/s)}),n.select(".x.axis").call(w).selectAll("g").delay(e)}function u(t){function n(){var n=parseInt(e.style("width"));t.attr("width",n),t.attr("height",Math.round(n/i))}var e=d3.select(t.node().parentNode),r=parseInt(t.style("width")),a=parseInt(t.style("height")),i=r/a;t.attr("viewBox","0 0 "+r+" "+a).attr("perserveAspectRatio","xMinYMid").call(n),d3.select(window).on("resize."+e.attr("id"),n)}d3.select('input[value="grouped"]').property("checked",!0);var c=[[{x:"A",y:1102,z:"Brazil"},{x:"B",y:1507,z:"Spain"},{x:"C",y:1200,z:"Columbia"},{x:"D",y:1132,z:"Uruguay"},{x:"E",y:1113,z:"Switzerland"},{x:"F",y:1251,z:"Argentina"},{x:"G",y:1318,z:"Germany"},{x:"H",y:1098,z:"Belgium"}],[{x:"A",y:971,z:"Croatia"},{x:"B",y:1106,z:"Netherlands"},{x:"C",y:1055,z:"Greece"},{x:"D",y:1120,z:"Italy"},{x:"E",y:893,z:"France"},{x:"F",y:886,z:"Bosnia-Herz."},{x:"G",y:1172,z:"Portugal"},{x:"H",y:870,z:"Russia"}],[{x:"A",y:892,z:"Mexico"},{x:"B",y:1014,z:"Chile"},{x:"C",y:918,z:"Ivory Coast"},{x:"D",y:1041,z:"England"},{x:"E",y:852,z:"Ecuador"},{x:"F",y:710,z:"Nigeria"},{x:"G",y:1019,z:"United States"},{x:"H",y:800,z:"Algeria"}],[{x:"A",y:612,z:"Cameroon"},{x:"B",y:564,z:"Australia"},{x:"C",y:638,z:"Japan"},{x:"D",y:738,z:"Costa Rica"},{x:"E",y:688,z:"Honduras"},{x:"F",y:650,z:"Iran"},{x:"G",y:849,z:"Ghana"},{x:"H",y:577,z:"Korea"}]],d=c.length,s=c[0].length,y=12,x=d3.layout.stack(),f=x(c),p=d3.max(f,function(t){return d3.max(t,function(t){return t.y})}),g=d3.max(f,function(t){return d3.max(t,function(t){return t.y0+t.y})}),h={top:30,right:10,bottom:30,left:57},z=660-h.left-h.right,m=400-h.top-h.bottom,B=d3.scale.ordinal().domain(["A","B","C","D","E","F","G","H"]).rangeRoundBands([0,z],.08),v=d3.scale.linear().domain([0,p]).range([m,0]),A=d3.scale.linear().domain([500,1e3,1500]).range(["#74c476","#31a354","#006d2c"]),w=d3.svg.axis().scale(B).tickSize(0).tickPadding(6).orient("bottom"),C=d3.svg.axis().scale(v).orient("left").tickFormat(d3.format(",.0f")),F=d3.select("#viz-world-cup .svg-holder").append("svg").attr("width",z+h.left+h.right).attr("height",m+h.top+h.bottom).call(u).append("g").attr("transform","translate("+h.left+","+h.top+")"),b=F.selectAll(".layer").data(f).enter().append("g").attr("class","layer"),k=b.selectAll("rect").data(function(t){return t}).enter().append("rect").attr("x",function(t){return B(t.x)}).attr("y",m).attr("width",B.rangeBand()).attr("height",0).style("fill",function(t,n){return A(t.y)});k.transition().duration(500).delay(function(t,n){return 10*n}).attr("x",function(t,n,e){return B(t.x)+B.rangeBand()/d*e}).attr("width",B.rangeBand()/d).transition().attr("y",function(t){return v(t.y)}).attr("height",function(t){return m-v(t.y)});var G=b.selectAll("text").data(function(t){return t}).enter().append("text").attr("class","team").attr("transform","rotate(-90)").attr("x",function(t){return-(v(t.y)+3)}).attr("y",function(t,n,e){return B(t.x)+y+B.rangeBand()/d*e}).style("text-anchor","end").text(function(t){return t.z});F.append("g").attr("class","x axis").attr("transform","translate(0,"+m+")").call(w),F.append("g").attr("class","y axis").attr("transform","translate(-13,0)").call(C).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("FIFA Ranking"),d3.selectAll('input[type="radio"]').on("change",r),d3.selectAll('input[type="checkbox"]').on("change",l)}});